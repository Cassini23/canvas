<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        body{
            margin: 0;
            padding: 0;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function(){
            var canvas = document.querySelector('canvas');
            var context = canvas.getContext('2d');
            /*context.beginPath();
            context.moveTo(50,50);
            context.lineTo(50, 200);
            context.lineTo(200, 200);
            context.lineTo(200, 50);
            context.lineTo(50, 50);
            context.stroke();*/
            function handler(context, event){
                var currpos = [event.clientX, event.clientY];
                context.lineTo(currpos[0],currpos[1]);
                //context.closePath();
                context.stroke();
                context.beginPath();
                context.moveTo(currpos[0],currpos[1]);
            }

            canvas.addEventListener('mousedown', function(event){
                handler.initpos = [event.clientX, event.clientY];
                context.beginPath();
                context.moveTo(event.clientX, event.clientY);

                canvas.addEventListener('mousemove', handler.bind(canvas, context));
            });

            canvas.addEventListener('mouseup', function(){
                canvas.closePath();
                canvas.removeEventListener('mousemove', handler.bind(canvas, context));
            });

        });
    </script>
</head>
<body>
<canvas width="600" height="600"></canvas>
</body>
</html>